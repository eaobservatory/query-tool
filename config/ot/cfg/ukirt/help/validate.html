
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Using the Validation Button to check your defined Observations </title>
  </head>

  <body>
 <h1> <font color = blue>Using the Validation Button to check your defined Observations </h1> </font>

    <h1> <font color = red>Introduction </h1> </font>

You can either check the whole science program which will include some
checks for consistency between observations as well as of the
observation content, or can check the observation content for a single
observation.

<p>

To use the validation button move the highlight to either the top
level of your science program, or onto the start of an observation
within it.  Then click on the button with a tick icon.
<p>
When the check is completed a window will appear contain a report of
the results of the checking.  Both warnings and errors are identified.
A warning is generated by "unusual" choices which could be deliberate,
whereas an error is generated by something that could not be executed.

<p>
The list of errors warnings is printable or it can be saved to local
disk so that people can look at it while correcting the errors.

<p>

If you run the check on a science program then the tool will first check and report on each observation, after that it will perform some checking of the
program as a whole (e.g. does it contain flats and arcs).

<p>
The following sections list the items that are checked and whether they result in error or warning messages.
<p>

<h1> <font color = red>Items checked for each observation</h1> </font>

<p>
1.   Observation does not have a bias, dark, cgs4calunit, sky 
         or observe in it. (ie it would not generate any data)     
      This is an Error
<p>
2.   Observation does not have either an instrument component or an 
       instrument iterator specified in it    
       This is an Error
<p> 
3.   Observation has no DR-recipe component 
       This is a warning, because some-one might not want to reduce the data.  
<p>    
4.   Instrument iterator in sequence is not for the same instrument 
      as the instrument component
      this is an Error !
<p>     
5.   FP iterator has been used, but the instrument = CGS4/Michelle/IRCAM3
       this an Error
<p>
6.  IRPOL iterator has been used but the instrument =  Michelle
     this is an Error
<p>
7.   Observation has no Target List
     this is a warning, since you might be specifying your target some 
other way.
<p>
8. The target list has

    Dec greater than  60 deg or Dec less than    -40 deg or 

    Ra not in the range 00 - 24 hours.

    These are all listed as errors
<p>
9.  The target list has no guide star  specified.
    This is a warning since there might not be one.
<p>  
10.  There are blank fields that should not be blank in the target list. 
      ie. there is no entry for 
      either Ra or Dec or Epoch or Parallax, or Radial Velocity.  
      This is  an error 
<p>
11.  The values for the target Dec are exactly 00:00:00 and for the Ra
they are exactly 00:00:00.  This is a warning in case someone forgot
to edit a library example.
<p>
12. The target list has a target coordinate for which the epoch is B1950, 
    and a guide star coordinate for which the Ra and Dec values are numerically    identical but the epoch is J2000.
    This is an error.
<p>
13. There is a DR recipe component, and no part of it is marked as 
     group member = yes. This is a warning - since in theory it might be OK to
do this.
<p>
14. There is a DR recipe component and the user has specified their own 
     recipe name ie there is a recipe name which is not on the list the
    OT has for that instrument. This is a warning, just in case there is a typo or they forgot to edit it.
<p>
15. For the UFTI component it checks that the read area/ the mode/ exposure times are conistent with the appropriate min and max allowed times.
      
<p>

16. CGS4 Component :
<p>
   Central Wavelength < 0.88um or > 5.2 um is an error
<p>
   40 or 150 l/mm grating is selected and order is > 5 .
   echelle grating is selected and order <= 10
    are errors
<p>
   Exposure time is less than 0.12 secs and >= 0.012 sec 
    this is a warning  
     message that says "warning found value x, subarray needs to be set by 
        TSS".
<p>
   Exposure time < 0.012 secs is an error

<p>
      
   nd-filter is selected when the echelle grating is selected
    this is an error

<p>
17. IRCAM Component:

 For the IRCAM it checks that the read area/ the mode/ exposure times are conistent with the appropriate min and max allowed times.

 <p>

18. There is a DARK observation which does not have the same exposure time as
     that specified in the CGS4/IRCAM/UFIT component, or an instrument 
       iterator.  This is a warning.
<p>
19. The instrument is UFTI or IRCAM and there is no dark in the sequence
     This is a warning
<p>
20. In the sequence there is an offset iterator followed by an instrument
     iterator. This is a warning
<p>
21. There is an instrument or offset iterator in the sequence AFTER the 
     observe.  This is an error.
<p>
22. The position iterator or instrument iterator and the "observe" are on
     the same level of iteration.  This is a waring
<p>

<h1> <font color = red>Additional checks at the Science Program level</h1> </font

<p>
1. For all observations with a CGS4 component, compare the CGS4 components. Issue a warning if :
<p>
   More than one slit width is specified 
   (eg warn if observation x has a 1pixel slit, and observation y has a 2
     pixel)
<p>
   More than one sampling is specfied  
<p>
   more than one position angle is specified

<p>
2. If there are observations that use CGS4, issue a warning if
   there is no observation in the whole program that contains a FLAT 
   and an ARC.
<p>
3. If there are observations that use UFTI or IRCAM issue a warning if 
   there is only one observation in the whole program that contains a DARK.
<p>
4. Issue a warning if there are no observations in the whole program which 
    have the "use as standard" flag set.








<spacer type=vertical size=35>
<hr>
<ADDRESS>
<spacer type=vertical size=15>
Original  Authors: <a href="mailto:gsw@roe.ac.uk">Gillian Wright</a>  
<p>
Original : 2001/01/24, Last Modification Date 2001/02/07 - Last Modification Author:<a href="mailto:gsw@roe.ac.uk">Gillian Wright</a></address>
 </body>

</html>

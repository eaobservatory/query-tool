#!/bin/csh -f 
######################################################################################### 
# This file has been automatically generated by "gmake" using the setting in            # 
# ../conf/make.conf. Modifications can be lost after a new make. 
# And the format of this script is not really meant to support manual editing.          # 
######################################################################################### 
 
set JAVA = /local/java/jdk/bin/java

set baseOTConfigDir	= /jac_sw/orac3/OT/install/cfg
set qtConfig		= /home/mrippa/netroot/install/omp/QT/config/qt.conf

set usage		= "Usage: $0 <telescope> [-h] [-options] \n\nwhere telescope is:\n\tukirt\t\tspecifies the UKIRT widget set\n\tjcmt\t\tspecifies the jcmt widget set\n\nand options include:\n\t-jac\t\tspecifies JAC global configs instead of local user configs\n\t-config file\tspecies the absolute path to the \042file\042 used for this session\n\n\n"

set debug               = "false"
set classic		= ""
set xdebug		= ""
set xnoagent		= ""
set xrunjdwptrans	= ""
set xbootclasspath	= ""

while ($#argv != 0)
   switch ($argv[1])
      case -h:
        printf "${usage}" 
        exit 
      case -debug:
	set debug = "true"
	shift
	breaksw
      case -jdebug:
        set xdebug = "-Xdebug"
        set xnoagent = "-Xnoagent"
        set xrunjdwptrans = "-Xrunjdwp:transport=dt_socket,address=2112,server=n,suspend=y"
        set xbootclasspath = "-Xbootclasspath:/local/java/jdk/jre/lib/rt.jar:/local/java/jdk/lib/tools.jar"
	echo QT Will be controled by JDEBUG!
        shift
        breaksw
      case -jac:
        set conf = /home/mrippa/netroot/install/omp/QT/configs/qtSystem.conf
        echo Global configs to be used
        shift
        breaksw
      case ukirt:
	set widgetFile	  = /home/mrippa/netroot/install/omp/QT/config/qtUkirtWidget.conf
	set instConfigDir = ${baseOTConfigDir}/ukirt
	set telescope	  = Ukirt
        echo Telescope set to use ukirt widget set
        shift
        breaksw
      case jcmt:
	set widgetFile   = /home/mrippa/netroot/install/omp/QT/config/qtJcmtWidget.conf
	set instConfigDir = ${baseOTConfigDir}/jcmt
	set telescope	  = Jcmt
        echo Telescope set to use jcmt widget set
        shift
        breaksw
      case -configFile
	shift
	set conf = $argv[1]
      default:
        echo "No such option"
        exit 1
        breaksw
   endsw
end

if !($?widgetFile) then
    printf "${usage}"
    exit
endif

if (! ${?IMP_SCRATCH} && (${HOST} == "lokahi")) then
    setenv IMP_SCRATCH /tmp
    echo "IMP_SCRATCH set to /tmp"
else if (! ${?IMP_SCRATCH}) then
    echo "IMP_SCRATCH is not set"
else
    echo "IMP_SCRATCH is set to: ${IMP_SCRATCH}"
endif

#cleanup

set CLASSPATH = /home/mrippa/netroot/install/omp/QT/lib/qt.jar:/home/mrippa/local/cc/lib/xerces.jar:/home/mrippa/netroot/install/omp/QT/lib/mail.jar:/home/mrippa/netroot/install/omp/QT/lib/activation.jar:/home/mrippa/netroot/install/omp/QT/lib/soap.jar:/home/mrippa/netroot/src/orac3/OT/install/classes:/home/mrippa/netroot/src/orac3/GEMINI/install/classes:/home/mrippa/netroot/src/ompSM/install/classes:/home/mrippa/netroot/src/orac3/ORAC/install/classes:/home/mrippa/netroot/src/orac3/ODB/install/classes:/home/mrippa/netroot/install/omp/QT/lib/jsky.jar:/home/mrippa/netroot/install/omp/QT/lib/diva.jar:/home/mrippa/netroot/install/omp/QT/lib/junit.jar:/local/java/jdk/lib/tools.jar:/home/mrippa/netroot/install/javaClasses/dcHub/lib/dcHub.jar:/local/progs/drama/drama_source/djava

${JAVA} ${xdebug} ${xnoagent} ${xrunjdwptrans} ${xbootclasspath} -Ddebug=${debug} -Dtelescope=${telescope} -DqtConfig=${qtConfig} -DwidgetFile=${widgetFile} -DOMP -Dot.cfgdir=${instConfigDir}/ -cp ${CLASSPATH} edu.jach.qt.app.Main &
